!function(window,undefined){"use strict";var EventManager=function(){function addAction(action,callback,priority,context){return"string"==typeof action&&"function"==typeof callback&&(priority=parseInt(priority||10,10),_addHook("actions",action,callback,priority,context)),MethodsAvailable}function doAction(){var args=slice.call(arguments),action=args.shift();return"string"==typeof action&&_runHook("actions",action,args),MethodsAvailable}function removeAction(action,callback){return"string"==typeof action&&_removeHook("actions",action,callback),MethodsAvailable}function addFilter(filter,callback,priority,context){return"string"==typeof filter&&"function"==typeof callback&&(priority=parseInt(priority||10,10),_addHook("filters",filter,callback,priority,context)),MethodsAvailable}function applyFilters(){var args=slice.call(arguments),filter=args.shift();return"string"==typeof filter?_runHook("filters",filter,args):MethodsAvailable}function removeFilter(filter,callback){return"string"==typeof filter&&_removeHook("filters",filter,callback),MethodsAvailable}function _removeHook(type,hook,callback,context){var handlers,handler,i;if(STORAGE[type][hook])if(callback)if(handlers=STORAGE[type][hook],context)for(i=handlers.length;i--;)handler=handlers[i],handler.callback===callback&&handler.context===context&&handlers.splice(i,1);else for(i=handlers.length;i--;)handlers[i].callback===callback&&handlers.splice(i,1);else STORAGE[type][hook]=[]}function _addHook(type,hook,callback,priority,context){var hookObject={callback:callback,priority:priority,context:context},hooks=STORAGE[type][hook];hooks?(hooks.push(hookObject),hooks=_hookInsertSort(hooks)):hooks=[hookObject],STORAGE[type][hook]=hooks}function _hookInsertSort(hooks){for(var tmpHook,j,prevHook,i=1,len=hooks.length;len>i;i++){for(tmpHook=hooks[i],j=i;(prevHook=hooks[j-1])&&prevHook.priority>tmpHook.priority;)hooks[j]=hooks[j-1],--j;hooks[j]=tmpHook}return hooks}function _runHook(type,hook,args){var i,len,handlers=STORAGE[type][hook];if(!handlers)return"filters"===type?args[0]:!1;if(len=handlers.length,"filters"===type)for(i=0;len>i;i++)args[0]=handlers[i].callback.apply(handlers[i].context,args);else for(i=0;len>i;i++)handlers[i].callback.apply(handlers[i].context,args);return"filters"===type?args[0]:!0}var slice=Array.prototype.slice,MethodsAvailable={removeFilter:removeFilter,applyFilters:applyFilters,addFilter:addFilter,removeAction:removeAction,doAction:doAction,addAction:addAction},STORAGE={actions:{},filters:{}};return MethodsAvailable};window.wp=window.wp||{},window.wp.hooks=new EventManager}(window);